제 블로그의 다른 글에서 직접 gitignore 파일을 만들려면 [gitignore Documentation](https://git-scm.com/docs/gitignore) 글을 참고하면 좋다고 했었습니다. 하지만 이 글을 일부분을 번역한 글은 있는데 전체글을 번역한 것은 보지못했습니다. [^okjungsoo-gitignore] [^igotit-gitignore]

그래서 여기서는 어설프지만 [Git](https://git-scm.com) [^git] 에 있는 [gitignore Documentation](https://git-scm.com/docs/gitignore) 글을 번역하여 정리하고자 합니다. [^docs-gitignore]

### 이름

**gitignore** - Git 이 변경 내력을 추적하지 않는 파일을 의도적으로 무시하도록 지정합니다.

### 개요

`$HOME/.config/git/ignore`, `$GIT_DIR/info/exclude`, `.gitignore`

> _이 부분은 뭘 의미하는지 잘 모르겠습니다. 일종의 사용법을 나타낸 것으로 추측합니다. 나중에 설명을 보완합니다._ 홈 디렉토리 밑의 **/.config/git** 폴더에 **ignore** 파일로 만들거나, 현재 폴더에 **.gitignore** 파일로 만들면 된다는 의미 같습니다.

### 설명

**gitignore** 파일은 Git 이 변경 내력을 무시해야 하는 비-추적 파일을 의도적으로 지정합니다. Git 이 이미 추적하고 있는 파일은 적용되지 않습니다; 자세한 내용은 아래의 **요약** 부분을 보기 바랍니다.

**gitignore** 파일의 각 행은 하나의 패턴으로 되어있습니다. Git이 파일을 무시할지를 결정할 때, 보통 여러 위치에 있는 **gitignore** 패턴들을 우선 순위가 높은 것에서 낮은 순서로 검사합니다. (우선 순위가 같으면 마지막 패턴이 결과를 결정합니다):

* Patterns read from the command line for those commands that support them.
* Patterns read from a **.gitignore** file in the same directory as the path, or in any parent directory, with patterns in the higher level files (up to the toplevel of the work tree) being overridden by those in lower level files down to the directory containing the file. These patterns match relative to the location of the **.gitignore** file. A project normally includes such **.gitignore** files in its repository, containing patterns for files generated as part of the project build.
* Patterns read from **$GIT_DIR/info/exclude**.
* Patterns read from the file specified by the configuration variable `core.excludesFile`.

Which file to place a pattern in depends on how the pattern is meant to be used.

* Patterns which should be version-controlled and distributed to other repositories via clone (i.e., files that all developers will want to ignore) should go into a .**gitignore** file.
* Patterns which are specific to a particular repository but which do not need to be shared with other related repositories (e.g., auxiliary files that live inside the repository but are specific to one user’s workflow) should go into the **$GIT_DIR/info/exclude** file.
* Patterns which a user wants Git to ignore in all situations (e.g., backup or temporary files generated by the user’s editor of choice) generally go into a file specified by `core.excludesFile` in the user’s **~/.gitconfig**. Its default value is **$XDG\_CONFIG\_HOME/git/ignore**. If **$XDG\_CONFIG\_HOME** is either not set or empty, **$HOME/.config/git/ignore** is used instead.

The underlying Git plumbing tools, such as git ls-files and git read-tree, read gitignore patterns specified by command-line options, or from files specified by command-line options. Higher-level Git tools, such as git status and git add, use patterns from the sources specified above.

### 패턴 양식

* 비어있는 줄은 어떤 파일과도 연결되지 않으므로 읽기 편하게 구분하는 용도로 활용할 수 있습니다.
* `#` 으로 시작하는 줄은 주석으로 사용됩니다. 해시(hash)로 시작하는 패턴의 경우 첫 번째 해시 앞에 백 슬래시 (`\`) 를 넣으십시오. [^translate-google]
* 줄의 뒤에 나오는 공백은 백 슬래시 (`\`) 로 인용하지 않으면 무시됩니다. (여기서 인용한다는 말은 공백 앞에 `\` 를 넣어야 공백으로 인식한다는 의미인 것 같습니다.)
* 선택 접두사 `!` 는 패턴을 무효로 만듭니다; 이전의 패턴으로 추적에서 제외된 파일을 다시 추적에 포함시킵니다. 단, 파일을 담고 있는 상위 디렉토리가 제외된 경우에는 파일을 다시 포함시킬 수 없습니다. Git 은 성능상의 이유로 제외된 디렉토리의 목록을 만들지 않기 때문에, 디렉토리에 담긴 파일의 패턴은 어디에 정의하든 아무 효과가 없습니다. `\!important!.txt` 처럼 `!` 로 시작하는 문장에서는 패턴을 만들 때 첫번째 `!` 앞에 백 슬래시 를 넣으십시오.
* 패턴이 슬래시로 끝나면 (다음 설명의 목적을 위해-제대로 된 번역인가?) 제거되기는 하지만 패턴이 들어맞는 디렉토리만 찾아서 제외합니다. 다시 말해서 `foo/` 는 `foo` 디렉토리와 그 밑에 있는 경로는 해당되지만, `foo` 라는 파일이나 바로 가기(symbolic link)와는 맞지 않습니다. (이것은 보통의 Git 에서 경로가 작동하는 방식과 일치합니다.).
* 패턴이 슬래시 `/` 를 포함하지 않으면, Git 은 이를 쉘 덩어리(shell glob) 패턴으로 처리하고 **.gitignore** 파일이 있는 곳을 기준으로 경로 이름이 맞는지 검사합니다. (**.gitignore** 파일의 패턴이 아니면 작업 트리의 최상위를 기준으로 합니다).
* 그외의 경우, Git 은 해당 패턴을 쉘 덩어리 패턴으로 취급해서 `fnmatch(3)` 에 넘깁니다. 이 때 **FNM_PATHNAME** 플래그를 사용합니다: 패턴에 있는 와일드카드 (wildcards, `*`) 는 경로 이름의 `/` 와는 맞춰지지 않습니다. 예를 들어 `Documentation/*.html` 는  **Documentation/git.html** 와는 들어 맞지만 **Documentation/ppc/ppc.html** 나 **tools/perf/Documentation/perf.html** 와는 맞지 않습니다.
* 맨 앞의 슬래시는 경로 이름의 시작과 맞춰집니다. 예를 들어 `/*.c` 는 **cat-file.c** 와는 들어 맞지만 **mozilla-sha1/sha1.c** 와는 맞지 않습니다.

두 개의 연속된 별표 (`**`) 는 특별한 의미를 가지는 전체 경로 이름과 맞춰집니다:

* A leading `**` followed by a slash means match in all directories. For example, `**/foo` matches file or directory **foo** anywhere, the same as pattern `foo`. `**/foo/bar` matches file or directory **bar** anywhere that is directly under directory **foo**.
* A trailing `/**` matches everything inside. For example, `abc/**` matches all files inside directory **abc**, relative to the location of the **.gitignore** file, with infinite depth.
* A slash followed by two consecutive asterisks then a slash matches zero or more directories. For example, `a/**/b` matches **a/b**, **a/x/b**, **a/x/y/b** and so on.
* Other consecutive asterisks are considered invalid.

### 요약 

**gitignore** 파일의 목적은  Git 이 변경 내력을 추적하고 있지 않는 파일들을 계속 추적하지 않도록 남겨 두기 위한 것입니다.

현재 추적하고 있는 파일의 추적을 중단하려면 `git rm --cached` 명령을 사용합니다. [^xho95-gitignore]

### 예제

```sh
$ git status
...
# Untracked files:
...
#       Documentation/foo.html
#       Documentation/gitignore.html
#       file.o
#       lib.a
#       src/internal.o
...

$ cat .git/info/exclude
# ignore objects and archives, anywhere in the tree.
*.[oa]

$ cat Documentation/.gitignore
# ignore generated html files,
*.html
# except foo.html which is maintained by hand
!foo.html

$ git status
...
# Untracked files:
...
#       Documentation/foo.html
...
```

다른 예제:

```sh
$ cat .gitignore
vmlinux*

$ ls arch/foo/kernel/vm*
arch/foo/kernel/vmlinux.lds.S

$ echo '!/vmlinux*' >arch/foo/kernel/.gitignore
```

The second .gitignore prevents Git from ignoring `arch/foo/kernel/vmlinux.lds.S`.

Example to exclude everything except a specific directory `foo/bar` (note the `/*` - without the slash, the wildcard would also exclude everything within `foo/bar`):

```sh
$ cat .gitignore
# exclude everything except directory foo/bar
/*
!/foo
/foo/*
!/foo/bar
```

### 같이 보기 

[git-rm](https://git-scm.com/docs/git-rm), [gitrepository-layout](https://git-scm.com/docs/gitrepository-layout), [git-check-ignore](https://git-scm.com/docs/git-check-ignore)

### 목록

Git 매뉴얼 문서의 전체 목록은 [git](https://git-scm.com/docs/git) 을 보기 바랍니다.

### 원문 자료 

[Git - gitignore Documentation](https://git-scm.com/docs/gitignore)

### 참고 자료

[^git]: [git](https://git-scm.com) : Git 공식 홈페이지입니다. 

[^docs-gitignore]: Git 에서 사용법 외에 각 명령 및 용어들에 대해 매뉴얼을 정리했는데 이 중에서 gitignore 에 해당하는 것이 [Git - gitignore Documentation](https://git-scm.com/docs/gitignore) 인 것 같습니다. 사용법 문서는 한글로 번역되어 있는데 매뉴얼은 번역이 안되어 있는 것 같습니다.

[^okjungsoo-gitignore]: 옷장수님이 [Git - gitignore Documentation](https://git-scm.com/docs/gitignore) 글의 일부분을 번역하여 [gitignore 문서](https://okjungsoo.wordpress.com/2016/01/11/gitignore-문서/) 라는 글로 정리하였습니다.

[^igotit-gitignore]: igotit 님이 [Git - gitignore Documentation](https://git-scm.com/docs/gitignore) 글의 일부분을 번역하여 [Git. .gitignore 적용 하기.](http://igotit.tistory.com/entry/Git-gitignore-적용-하기) 라는 글로 정리하였습니다.

[^translate-google]: [Google 번역](https://translate.google.com/?hl=ko&tab=wT) : 이 문장의 경우 구글 번역이 너무 완벽해서 손을 댈 필요가 없을 정도였습니다. 어찌보면 좋은 세상이고 어찌보면 조금 무서운 세상입니다.

[^xho95-gitignore]: `git rm --cached` 명령을 사용하는 방법은 [Git: .gitignore로 버전 관리에서 특정 파일 제외하기](http://xho95.github.io/git/github/xcode/swift/2016/07/15/Making-a-.gitignore-file.html) 라는 글을 참고하시면 됩니다.
