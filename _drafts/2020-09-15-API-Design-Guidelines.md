---
layout: post
comments: true
title:  "Swift: API Design Guidelines (API 설계 지침)"
date:   2020-03-16 10:00:00 +0900
categories: Swift Language Grammar Revision History
---

## API Design Guidelines (API 설계 지침)

### Table of Contents (목차)

* [Fundamentals (근본 바탕)](#fundamentals-근본-바탕)
* [Naming](#naming-이름짓기)
- Promote Clear Usage
- Strive for Fluent Usage
- Use Terminology Well
* Conventions
- General Conventions
- Parameters
- Argument Labels
* Special Instructions

### Fundamentals (근본 바탕)

* **사용하는 순간에 분명한 것** 이 가장 중요한 목표입니다. 메소드와 속성 같은 엔티티는 한 번 선언해서 계속 반복 _사용합니다 (used)_. 명확하고 간결하게 사용할 수 있도록 API 를 설계해야 합니다. 설계를 평가할 때, 선언을 읽고 이해하는 것으로는 충분하지 않습니다; 상황에 따라 명확하게 보일 수 있게 항상 실제 사용 사례를 검토하도록 합니다.

* **분명한 것이 간결한 것보다 더 중요합니다.** 스위프트 코드를 알차게 만들 수는 있더라도, 최소의 문자로 가능한 가장 작은 코드를 만들려고 하는 것이 _목표는-아닙니다 (non-goal)_. 스위프트 코드에서, 발생하는, 간결함이란, 강한 타입 시스템으로 인한 부수적인 효과인 것으로 획일적인 상용구를 자연스럽게 줄이는 특징을 가집니다.

* **문서화 주석 (documentation comment) 의 작성을** 모든 선언마다 합니다. 문서화를 작성하며 얻은 통찰력은 설계에 큰 영향을 줄 수 있으므로, 미루지 않도록 합니다.

API 의 기능을 간단한 용어로 설명하는 데 어려움을 겪고 있다면, **잘못된 API 를 설계하고 있는 것일 수 있습니다.**

- 스위프트 '전용 마크 다운 ([dialect of Markdown](https://developer.apple.com/library/archive/documentation/Xcode/Reference/xcode_markup_formatting_ref/))' 을 사용하기 바랍니다.

- **요약으로 시작해서** 엔티티 선언에 대한 설명을 합니다. 대체로, API 는 선언과 요약으로도 완전히 이해할 수 있습니다.

```swift
/// Returns a "view" of `self` containing the same elements in
/// reverse order.
/// 같은 원소를 반대 순서로 가지고 있는 `self` 의 "view" 를 반환합니다.
func reversed() -> ReverseCollection
```

1. **요약에 집중합니다**; 가장 중요한 부분입니다. 훌륭한 문서 주석 대부분은 사실 뛰어난 요약에 지나지 않습니다.

2. **단일한 문장 성분을**[^fragment] 가능한한 사용하며, 마침표로 끝맺습니다. 완전한 문장은 사용하지 않습니다.[^complete-sentence]

3. **함수나 메소드가 무엇을 _하는 (does)_ 지 무엇을 _반환하는 (returns)_ 지를 설명하고**, 없는 효과 (null effects) 와 `Void` 반환은 생략합니다:

```swift
/// Inserts `newHead` at the beginning of `self`.
/// `self` 의 처음 위치에 `newHead` 를 집어 넣습니다.
mutating func prepend(_ newHead: Int)

/// Returns a `List` containing `head` followed by the elements
/// of `self`.
/// 뒤에 `self` 의 원소가 있는 `head` 를 담고 있는 `List` 를 반환합니다.
func prepending(_ head: Element) -> List

/// Removes and returns the first element of `self` if non-empty;
/// returns `nil` otherwise.
/// 비어 있지 않은 경우 `self` 의 첫 번째 원소를 제거하고 반환합니다;
/// 다른 경우라면 `nil` 을 반환합니다.
mutating func popFirst() -> Element?
```

참고 : 위의 popFirst와 같은 드문 경우에 요약은 세미콜론으로 구분 된 여러 문장 조각으로 구성됩니다.

아래 첨자가 액세스하는 내용을 설명하십시오.

```swift
/// Accesses the `index`th element.
subscript(index: Int) -> Element { get set }
```

이니셜 라이저가 생성하는 내용을 설명합니다.

```swift
/// Creates an instance containing `n` repetitions of `x`.
init(count n: Int, repeatedElement x: Element)
```

다른 모든 선언의 경우 선언 된 엔티티가 무엇인지 설명하십시오.

```swift
/// A collection that supports equally efficient insertion/removal
/// at any position.
struct List {

  /// The element at the beginning of `self`, or `nil` if self is
  /// empty.
  var first: Element?
  ...
```

선택적으로 하나 이상의 단락 및 글 머리 기호 항목을 계속합니다. 단락은 빈 줄로 구분되며 완전한 문장을 사용합니다.

```swift
/// Writes the textual representation of each    ← Summary
/// element of `items` to the standard output.
///                                              ← Blank line
/// The textual representation for each item `x` ← Additional discussion
/// is generated by the expression `String(x)`.
///
/// - Parameter separator: text to be printed    ⎫
///   between items.                             ⎟
/// - Parameter terminator: text to be printed   ⎬ Parameters section
///   at the end.                                ⎟
///                                              ⎭
/// - Note: To print without a trailing          ⎫
///   newline, pass `terminator: ""`             ⎟
///                                              ⎬ Symbol commands
/// - SeeAlso: `CustomDebugStringConvertible`,   ⎟
///   `CustomStringConvertible`, `debugPrint`.   ⎭
public func print(
  _ items: Any..., separator: String = " ", terminator: String = "\n")
```

적절한 때마다 요약 이외의 정보를 추가하려면 인식 된 기호 문서 마크 업 요소를 사용하십시오.

기호 명령 구문으로 인식 된 글 머리 기호 항목을 알고 사용하십시오. Xcode와 같은 인기있는 개발 도구는 다음 키워드로 시작하는 글 머리 기호 항목을 특별하게 처리합니다.

---|---|---|---
Attention	| Author | Authors | Bug
Complexity | Copyright	| Date | Experiment
Important	| Invariant | Note | Parameter
Parameters | Postcondition | Precondition | Remark
Requires | Returns | SeeAlso | Since
Throws | ToDo | Version | Warning

### Naming (이름짓기)

#### Promote Clear Usage

#### Strive for Fluent Usage

#### Use Terminology Well

### Conventions

#### General Conventions

#### Parameters

#### Argument Labels

### Special Instructions

### 참고 자료

[^fragment]: 여기서 '문장 성분 (sentence fragment)' 을 사용하라는 것은 완전한 문장이 아니라, 하나의 구절 형태로 사용하라는 의미입니다.

[^complete-sentence]: 왜 완전한 문장을 사용하지 않는 지에 대한 설명은 따로 없는 것 같습니다. 최대한 간단하게 핵심만 정리하라는 의미로 이해할 수 있습니다.
