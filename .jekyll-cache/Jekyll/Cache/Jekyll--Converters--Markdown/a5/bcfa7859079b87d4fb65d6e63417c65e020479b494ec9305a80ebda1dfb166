I"xH<p>보통 <a href="https://swift.org">Swift</a> 는 맥이나 iOS 앱을 만들기 위해서 사용한다고 생각하기 쉽습니다. <sup id="fnref:swift" role="doc-noteref"><a href="#fn:swift" class="footnote" rel="footnote">1</a></sup> 하지만 애플에서 2015년 12월 3일에 Swift 를 오픈 소스로 공개하면서 리눅스 (Linux) 배포판도 같이 공개했습니다. <sup id="fnref:swift-welcome" role="doc-noteref"><a href="#fn:swift-welcome" class="footnote" rel="footnote">2</a></sup> <sup id="fnref:swift-linux" role="doc-noteref"><a href="#fn:swift-linux" class="footnote" rel="footnote">3</a></sup> 즉, Swift 는 리눅스에서 마치 C/C++ 처럼 사용할 수 있는 언어입니다.</p>

<p>여기서는 리눅스에서 Swift 를 사용하기 위한 환경을 구축하는 방법을 정리합니다.</p>

<h3 id="들어가며">들어가며</h3>

<p>이 글의 내용은 Swift 공식 블로그에 있는 <a href="https://swift.org/download/#releases">Download Swift</a> 와 <a href="https://swift.org/getting-started/">Getting Started</a> 를 실습하면서 정리한 것입니다. <sup id="fnref:download-swift" role="doc-noteref"><a href="#fn:download-swift" class="footnote" rel="footnote">4</a></sup> <sup id="fnref:swift-started" role="doc-noteref"><a href="#fn:swift-started" class="footnote" rel="footnote">5</a></sup> 그외에 <a href="http://crasy.tistory.com">준P</a> 님이 쓰신 <a href="http://crasy.tistory.com/145">Swift: Linux에서 Swift 시작해보기</a> 글도 참고했습니다. <sup id="fnref:crasy-145" role="doc-noteref"><a href="#fn:crasy-145" class="footnote" rel="footnote">6</a></sup></p>

<p>리눅스에서 Swift 를 사용하기 위해서는 먼저 컴파일러와 기타 필수 구성 요소들을 내려 받아서 설치해야 합니다. 이들은 Swift 공식 블로그의 <a href="https://swift.org/download/#releases">Download Swift</a> 페이지에서 내려 받을 수 있습니다.</p>

<p>링크로 들어가보면 여러 버전의 Swift 가 있는데 맨 위의 Releases 에 있는 것을 다운받으면 됩니다. 표에서 <strong>Ubuntu 16.04</strong> 와  <strong>(Signature)</strong> 를 눌러서 2개의 파일을 내려 받습니다. <sup id="fnref:swift-releases" role="doc-noteref"><a href="#fn:swift-releases" class="footnote" rel="footnote">7</a></sup></p>

<p>리눅스용 패키지는 tar 압축 파일로 되어 있으며 Swift 컴파일러, lldb 그외 기타 관련 도구들을 포함하고 있습니다.</p>

<h3 id="swift-설치하기">Swift 설치하기</h3>

<ol>
  <li>
    <p>Swift 를 설치하기 전에 의존되어 있는 필수 구성 요소들을 먼저 설치합니다. 터미널에서 아래와 같이 실행합니다.</p>

    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nv">$ </span><span class="nb">sudo </span>apt-get <span class="nb">install </span>clang libicu-dev
</code></pre></div>    </div>

    <p><a href="https://clang.llvm.org">clang</a> 과 <a href="https://packages.debian.org/sid/libicu-dev">libicu-dev</a> 를 설치하는 것을 알 수 있습니다. <sup id="fnref:clang" role="doc-noteref"><a href="#fn:clang" class="footnote" rel="footnote">8</a></sup> <sup id="fnref:libicu-dev" role="doc-noteref"><a href="#fn:libicu-dev" class="footnote" rel="footnote">9</a></sup></p>
  </li>
  <li>
    <p>설치 파일 중에서 가장 최신 버전을 내려 받습니다. <sup id="fnref:version" role="doc-noteref"><a href="#fn:version" class="footnote" rel="footnote">10</a></sup> 앞에서 미리 내려 받았으면 넘어갑니다.</p>

    <p><strong>swift-&lt;VERSION&gt;-&lt;PLATFORM&gt;.tar.gz</strong> 파일은 그 자체로 툴체인이며, <strong>.sig</strong> 파일은 디지털 서명 파일입니다.</p>
  </li>
  <li>
    <p>Swift 패키지를 처음으로 다운로드하는 경우 <a href="https://ko.wikipedia.org/wiki/PGP_(소프트웨어)">PGP</a> 키를 키링으로 가져와야 합니다. <sup id="fnref:wikipedia-pgp" role="doc-noteref"><a href="#fn:wikipedia-pgp" class="footnote" rel="footnote">11</a></sup> <sup id="fnref:jinbo-pgp" role="doc-noteref"><a href="#fn:jinbo-pgp" class="footnote" rel="footnote">12</a></sup></p>

    <p>Swift 홈페이지에서는 두 가지 방식으로 설명이 되어 있는데 두 방식은 같은 것이라 하나만 하면 됩니다. 두번째 방식이 좀 더 간단한 것 같아서 두번째 방식만 설명합니다. 터미널에서 아래와 같이 실행합니다.</p>

    <div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nv">$ </span>wget <span class="nt">-q</span> <span class="nt">-O</span> - https://swift.org/keys/all-keys.asc | <span class="se">\</span>
   gpg <span class="nt">--import</span> -
</code></pre></div>    </div>

    <p>그러면 해당 서버에서 PGP 관련 파일들을 받습니다.</p>
  </li>
  <li>
    <p>PGP 서명의 유효 검사를 수행합니다.</p>

    <p>먼저 아래 명령을 수행합니다. 뭔가 새로 고침 비슷한 것으로 추측됩니다.</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> $ gpg --keyserver hkp://pool.sks-keyservers.net --refresh-keys Swift
</code></pre></div>    </div>

    <p>그리고 이어서 실제 유효 검사를 수행합니다.</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> $ gpg --verify swift-&lt;VERSION&gt;-&lt;PLATFORM&gt;.tar.gz.sig
...
gpg: Good signature from "Swift Automatic Signing Key #1 &lt;swift-infrastructure@swift.org&gt;"
</code></pre></div>    </div>

    <p>유효 검사 이후에 경고가 뜰 수도 있는데 공식 블로그에서는 무시해도 상관 없다고 설명하고 있습니다.</p>

    <blockquote>
      <p>유효 검사 도중에 에러가 발생할 경우에는 <a href="https://swift.org/download/#releases">Download Swift</a> 글의 <strong>Active Signing Keys</strong> 부분을 보고 따라하면 해결 된다고 합니다. 이 부분은 문제가 있을 경우에만 실행합니다.</p>
    </blockquote>
  </li>
  <li>
    <p>내려 받은 파일을 설치하고자 하는 곳이로 이동한 후에 아래와 같이 압축을 풉니다.</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> $ tar xzf swift-&lt;VERSION&gt;-&lt;PLATFORM&gt;.tar.gz
</code></pre></div>    </div>

    <p>이렇게 압축을 풀면 사실상 설치가 된 것입니다. 압축을 풀고 나면 하위에 <strong>usr/</strong> 디렉토리가 생긴 것을 볼 수 있습니다.</p>
  </li>
  <li>
    <p>이제 리눅스에서 Swift 툴체인 경로를 추가합니다. 아래와 같이 실행합니다.</p>

    <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> $ export PATH=/path/to/usr/bin:"${PATH}"
</code></pre></div>    </div>

    <p>위의 명령을 실행할 때 <strong>/path/to/</strong> 부분에는 실제 자신의 Swift 가 설치된 디렉토리의 <strong>/usr</strong> 디렉토리가 있는 경로를 지정해야 합니다. 설치하는 사람마다 경로가 다르므로 본인에게 맞는 경로를 넣으면 됩니다.</p>

    <blockquote>
      <p>위와 같이 하면 부팅시마다 매번 <code class="language-plaintext highlighter-rouge">export</code> 를 해줘야 하는 것 같습니다. 서버라면 재부팅할 일이 없으므로 이대로도 괜찮겠지만 개발 용도로 사용하는 리눅스의 경우 번거로울 수 있습니다.</p>

      <p>경로 설정은 <a href="http://egloos.zum.com/silve2/v/4448383">리눅스 PATH 설정</a> 등의 글을 참고하여 <strong>~/.profile</strong> 파일의 PATH 부분을 다음과 같이 수정했습니다. <sup id="fnref:egloos-4448383" role="doc-noteref"><a href="#fn:egloos-4448383" class="footnote" rel="footnote">13</a></sup> <sup id="fnref:blueskywithyou-32" role="doc-noteref"><a href="#fn:blueskywithyou-32" class="footnote" rel="footnote">14</a></sup> <sup id="fnref:superad-path" role="doc-noteref"><a href="#fn:superad-path" class="footnote" rel="footnote">15</a></sup> <sup id="fnref:linux-bash" role="doc-noteref"><a href="#fn:linux-bash" class="footnote" rel="footnote">16</a></sup></p>

      <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>PATH="$HOME/bin: ... :/path/to/usr/bin:$PATH"
</code></pre></div>      </div>

      <p>다른 설정 방법도 있습니다. <sup id="fnref:html5around-swift" role="doc-noteref"><a href="#fn:html5around-swift" class="footnote" rel="footnote">17</a></sup></p>
    </blockquote>
  </li>
</ol>

<p>설치는 끝났습니다. 이제 <code class="language-plaintext highlighter-rouge">swift</code> 명령으로 <a href="https://en.wikipedia.org/wiki/Read–eval–print_loop">REPL</a> 를 실행하거나 Swift 프로젝트를 빌드할 수 있습니다. <sup id="fnref:repl" role="doc-noteref"><a href="#fn:repl" class="footnote" rel="footnote">18</a></sup></p>

<h3 id="고찰하기">고찰하기</h3>

<p>이제 리눅스에서 Swift 프로젝트를 만들고 소스 코드를 편집해서 빌드할 수 있게 되었습니다. 이어서 리눅스에서 LLDB 디버거를 사용하는 부분과 간단한 Swift 예제 프로그램을 작성한 것도 정리할 예정입니다.</p>

<p>Swift 패키지 관리자에 대해서 더 알고 싶으면 공식 블로그의 <a href="https://swift.org/package-manager/">Swift Package Manager</a> 글을 참고 하면 됩니다.</p>

<h3 id="관련-자료">관련 자료</h3>

<ul>
  <li><a href="/linux/development/swift/repl/package/ubuntu/2017/03/06/Getting-Started-Swift-on-Linux.html">Swift: 리눅스에서 Swift 개발 시작하기</a></li>
  <li><a href="/swift/language/grammar/tour/2016/04/17/A-Swift-Tour.html">Swift 3.1: 빠르게 (Swift) 둘러보기</a></li>
</ul>

<h3 id="참고-자료">참고 자료</h3>

<p><a href="http://blog.yagom.net/535">우분투(Ubuntu)에 스위프트 설치하기</a></p>
<div class="footnotes" role="doc-endnotes">
  <ol>
    <li id="fn:swift" role="doc-endnote">
      <p>Swift 는 애플에서 공개한 새로운 프로그래밍 언어로 보다 자세한 내용은 공식 블로그인 <a href="https://swift.org">Swift.org</a> 에서 찾아볼 수 있습니다. <a href="#fnref:swift" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:swift-welcome" role="doc-endnote">
      <p>2015년 12월 3일에 애플에서 Swift 를 오픈 소스로 공개하면서 Swift 공식 블로그를 만들었습니다. 보다 자세한 내용은 <a href="https://swift.org/blog/welcome/">The Swift.org Blog</a> 라는 글을 보면 알 수 있습니다. <a href="#fnref:swift-welcome" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:swift-linux" role="doc-endnote">
      <p>Swift 를 리눅스로 포팅한 소식은 블로그의 <a href="https://swift.org/blog/swift-linux-port/">The Swift Linux Port</a> 에 소개하고 있습니다. <a href="#fnref:swift-linux" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:download-swift" role="doc-endnote">
      <p><a href="https://swift.org/download/#releases">Download Swift</a> 는 Swift 컴파일러 및 기타 필수 구성 요소를 설치하고 인증하는 방법을 설명하는 글입니다. 원문은 리눅스외에도 애플 플랫폼에 대한 내용도 다루고 있지만, 여기서는 리눅스 관련 내용만 정리합니다. <a href="#fnref:download-swift" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:swift-started" role="doc-endnote">
      <p><a href="https://swift.org/getting-started/">Getting Started</a> 는 Swift 를 설치한 후 REPL, 패키지 관리자, LLDB 디버거를 사용하는 방법을 설명한 글입니다. <a href="#fnref:swift-started" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:crasy-145" role="doc-endnote">
      <p>준P 님의 <a href="http://crasy.tistory.com">HELLO_HELL?</a> 이라는 블로그에는 리눅스에 Swift 를 설치하는 방법이 <a href="http://crasy.tistory.com/145">Swift: Linux에서 Swift 시작해보기</a> 라는 글로 정리되어 있습니다. <a href="#fnref:crasy-145" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:swift-releases" role="doc-endnote">
      <p><a href="https://swift.org/download/#releases">Download Swift</a> 글에서 리눅스 관련 설명을 보면 Swift 는 특정 우분투 버전만 지원하는 것은 아니고 다른 리눅스에서도 사용 가능하다고 합니다. 다만 다운로드 항목에 우분투만 있는 것은 실제 테스트를 한 환경이 우분투라서 그렇다고 합니다. 따라서 다른 리눅스 배포판에서도 설치 가능하지 않을까 생각합니다. <a href="#fnref:swift-releases" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:clang" role="doc-endnote">
      <p><a href="https://clang.llvm.org">clang</a> 은 원래 LLVM 에서 사용하는 C/C++ 프론트-엔드입니다. 일단 Swift 컴파일러는 C/C++ 및 Object-C 의 컴파일을 지원하므로 해당 언어의 문맥 처리를 위해 설치를 하는 것이 아닌가 추측합니다. 그리고 지금 시점에서는 아직 Swift 컴파일러도 C++ 로 만들어 지고 있기는 합니다. 관련 내용은 <a href="https://github.com/apple/swift/blob/2c7b0b22831159396fe0e98e5944e64a483c356e/www/FAQ.rst">Frequently Asked Questions about Swift</a> 글을 참고하시기 바랍니다. <a href="#fnref:clang" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:libicu-dev" role="doc-endnote">
      <p><a href="https://packages.debian.org/sid/libicu-dev">libicu-dev</a> 는 개발 과정에서 유니 코드를 지원하기 위한 데비안-계열 리눅스 패키지입니다. ICU 는 유니코드와 지역화를 지원하는 C++ 및 C 라이브러리로 International Components for Unicode 의 줄임말입니다. 즉, libicu-dev 패키지는 ICU 를 위한 개발 파일들을 담고 있는 패키지입니다. <a href="#fnref:libicu-dev" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:version" role="doc-endnote">
      <p>이 글을 작성하고 있는 시점에서의 최신 파일은 각각 <strong>swift-3.0.2-RELEASE-ubuntu16.04.tar.gz</strong> 와 <strong>swift-3.0.2-RELEASE-ubuntu16.04.tar.gz.sig</strong> 입니다. 2개의 파일 모두 받습니다. <a href="#fnref:version" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:wikipedia-pgp" role="doc-endnote">
      <p>위키피디아의 <a href="https://ko.wikipedia.org/wiki/PGP_(소프트웨어)">PGP</a> 글에 따르면 PGP 는 컴퓨터 파일을 암호화하고 복호화하는 프로그램의 하나로, GNU 프로젝트인 GnuPG 로도 개발되어 전 세계적으로 광범위하게 사용되고 있다고 합니다. <a href="#fnref:wikipedia-pgp" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:jinbo-pgp" role="doc-endnote">
      <p><a href="https://guide.jinbo.net/digital-security/communication-security/introduction-public-key-encryption">공개키 암호화와 PGP에 대한 소개</a> : 좋은 내용이지만 원문을 번역하면서 문장이 조금 매끄럽지 않게 된 것 같습니다. <a href="#fnref:jinbo-pgp" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:egloos-4448383" role="doc-endnote">
      <p>양치질 님의 <a href="http://egloos.zum.com/silve2/v/4448383">리눅스 PATH 설정</a> 이란 글이 제일 간단하게 설명이 되어 있어서 이 방식대로 경로를 설정했습니다. <a href="#fnref:egloos-4448383" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:blueskywithyou-32" role="doc-endnote">
      <p>Daniel.H.Kim 님의 <a href="http://blueskywithyou.tistory.com/32">리눅스에서 PATH(환경변수) 관련 설정 및 참고 내용</a> 글에는 리눅스의 export 명령에 대한 설명이 정리되어 있습니다. <a href="#fnref:blueskywithyou-32" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:superad-path" role="doc-endnote">
      <p>카약스님의 <a href="http://superad.tistory.com/entry/리눅스-명령어-PATH설정하기">리눅스 명령어 PATH 설정하기</a> 라는 글에는 리눅스의 환경 설정 파일에서 <strong>~/.bash_profile</strong> 및 <strong>~/.bashrc</strong> 파일과 <strong>/etc/profile</strong> 및 <strong>/etc/bashrc</strong> 파일에 대한 내용이 있습니다. 나중에 관련 내용들을 정리할 생각입니다. <a href="#fnref:superad-path" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:linux-bash" role="doc-endnote">
      <p>이렇게 해도 매번 리눅스를 부팅해서 <code class="language-plaintext highlighter-rouge">$ source .bash_profile</code> 을 실행해야 하는 것 같습니다. 리눅스 경로 설정 부분은 방법이 워낙 다양해서 최적의 방법을 조금 더 알아보고 정리하도록 할 예정입니다. <a href="#fnref:linux-bash" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:html5around-swift" role="doc-endnote">
      <p>소화자 님의 <a href="http://html5around.com/wordpress/tutorials/ubuntu-swift/">우분투에서 애플 스위프트(Swift) 공부환경 구축하기</a> 글에 보면 경로를 <strong>~/.bashrc</strong> 파일에 등록하고 있습니다. 나중에 비교 검토해서 반영할 생각입니다. <a href="#fnref:html5around-swift" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
    <li id="fn:repl" role="doc-endnote">
      <p><a href="https://en.wikipedia.org/wiki/Read–eval–print_loop">REPL</a> 은 Read–Eval–Print Loop 의 약자로 직역하면 읽고-실행하고-출력하는 것을 반복하는 것을 의미합니다. 프로그래밍에서 코드를 작성하면 한 줄씩 실행하면서 결과를 바로 볼 수 있도록 대화형으로 개발이 진행되는 방식을 의미합니다. <a href="#fnref:repl" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
  </ol>
</div>
:ET